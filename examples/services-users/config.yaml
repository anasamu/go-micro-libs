server:
  environment: "production"
  service_name: "user-service"
  version: "1.0.0"
  config:
    provider: "vault"
    vault:
      address: "http://localhost:8200"
      token: "s.1234567890"
      path: "secret/data/config"
    file:
      path: "config.yaml"
      type: "yaml"
    env:
      prefix: "USER_SERVICE"
    consul:
      address: "localhost:8500"
      token: "s.1234567890"
      path: "config"

logging:
  level: "info"
  format: "json"
  output: "stdout"
  elastic:
    index: "logs-users"

monitoring:
  prometheus:
    enabled: true
    port: "9090"
    path: "/metrics"
  jaeger:
    enabled: false

api:
  http:
    host: "0.0.0.0"
    port: "8080"
    read_timeout: 30
    write_timeout: 30
  grpc:
    host: "0.0.0.0"
    port: "50051"
    timeout: 30

messaging:
  provider: "kafka"
  kafka:
    brokers: ["localhost:9092"]
    topic: "users.events"
    group_id: "users-service"

communication:
  provider: "http"
  http:
    host: "localhost"
    port: 8080
    base_path: "/"
    read_timeout: 10
    write_timeout: 10
    idle_timeout: 120
    retries: 3
  grpc:
    host: "localhost"
    port: "50051"
    timeout: 30
  graphql:
    host: "localhost"
    port: 8081
    path: "/graphql"

services:
  user_service:
    name: "user-service"
    host: "localhost"
    port: "8080"
    protocol: "http"
    version: "v1"
    environment: "production"
    health_check:
      enabled: true
      path: "/health"
      interval: 30
      timeout: 5
    retry:
      enabled: true
      max_attempts: 3
      initial_delay: 200
      max_delay: 2000
      multiplier: 2.0
      jitter: true
    timeout:
      connect: 5000
      read: 10000
      write: 10000
      total: 20000
    circuit_breaker:
      enabled: true
      failure_threshold: 5
      success_threshold: 2
      timeout: 10
    load_balancer:
      strategy: "round_robin"
      health_check: true

